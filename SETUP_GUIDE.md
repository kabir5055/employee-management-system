#!/bin/bash

echo "=========================================="
echo "Employee Management System - Setup Guide"
echo "=========================================="
echo ""

echo "üöÄ COMPLETE SETUP INSTRUCTIONS"
echo "==============================="
echo ""

echo "üìã PREREQUISITES:"
echo "1. Laragon must be installed and running"
echo "2. PHP 8.2+ with required extensions"
echo "3. Node.js and npm installed"
echo "4. Composer installed"
echo ""

echo "üóÑÔ∏è DATABASE SETUP:"
echo "1. Open Laragon Control Panel"
echo "2. Click 'Start All' (Apache & MySQL should turn green)"
echo "3. Open phpMyAdmin: http://localhost/phpmyadmin"
echo "4. Create database: 'employee_management'"
echo "   - Click 'New' in left sidebar"
echo "   - Enter database name: employee_management"
echo "   - Click 'Create'"
echo ""

echo "‚öôÔ∏è BACKEND SETUP:"
echo "Run these commands in order:"
echo ""
echo "# 1. Install PHP dependencies"
echo "composer install"
echo ""
echo "# 2. Generate application key"
echo "php artisan key:generate"
echo ""
echo "# 3. Run migrations (after database is created)"
echo "php artisan migrate"
echo ""
echo "# 4. Seed roles and permissions"
echo "php artisan db:seed --class=RoleAndPermissionSeeder"
echo ""
echo "# 5. Create super admin user"
echo "php artisan db:seed --class=SuperAdminSeeder"
echo ""
echo "# 6. Clear application cache"
echo "php artisan config:clear"
echo "php artisan cache:clear"
echo "php artisan route:clear"
echo "php artisan view:clear"
echo ""

echo "üé® FRONTEND SETUP:"
echo "# 1. Install Node.js dependencies"
echo "npm install"
echo ""
echo "# 2. Build assets for development"
echo "npm run dev"
echo ""
echo "# OR for production"
echo "npm run build"
echo ""

echo "üîê SUPER ADMIN LOGIN CREDENTIALS:"
echo "================================"
echo "Email: superadmin@company.com"
echo "Password: SuperAdmin@123"
echo ""

echo "üåê ACCESS URLs:"
echo "=============="
echo "Application: http://localhost/employee-management-system/public"
echo "phpMyAdmin: http://localhost/phpmyadmin"
echo ""

echo "üõ†Ô∏è TROUBLESHOOTING:"
echo "=================="
echo "If you get database connection errors:"
echo "1. Make sure Laragon is running"
echo "2. Check if MySQL service is active (green in Laragon)"
echo "3. Verify .env database settings"
echo ""
echo "If you get permission errors:"
echo "1. Make sure storage and bootstrap/cache are writable"
echo "2. Run: chmod -R 775 storage bootstrap/cache"
echo ""
echo "If frontend is not loading:"
echo "1. Run: npm run dev"
echo "2. Check if Vite dev server is running"
echo ""

echo "üìÅ KEY FILES UPDATED:"
echo "===================="
echo "‚úÖ RoleAndPermissionSeeder.php - Comprehensive permissions"
echo "‚úÖ SuperAdminSeeder.php - Creates super admin user"
echo "‚úÖ AuthenticatedLayout.jsx - Modern sidebar with permissions"
echo "‚úÖ HandleInertiaRequests.php - Passes user roles/permissions"
echo "‚úÖ RoleController.php - Permission-based access control"
echo "‚úÖ Kernel.php - Spatie permission middleware registered"
echo "‚úÖ custom.css - Modern UI components"
echo ""

echo "üéØ FEATURES IMPLEMENTED:"
echo "======================="
echo "‚úÖ Role-based access control (super-admin, admin, manager, hr, employee)"
echo "‚úÖ Permission-based sidebar navigation"
echo "‚úÖ Modern responsive design with Tailwind CSS"
echo "‚úÖ Spatie Laravel Permission integration"
echo "‚úÖ Comprehensive permission system"
echo "‚úÖ Super admin with full system access"
echo "‚úÖ Professional sidebar with categorized modules"
echo "‚úÖ Mobile-responsive layout"
echo ""

echo "‚ö° NEXT STEPS:"
echo "============="
echo "1. Start Laragon and create the database"
echo "2. Run the backend setup commands"
echo "3. Run the frontend setup commands"
echo "4. Access the application and login as super admin"
echo "5. Start building your employee management features!"
echo ""

echo "üÜò SUPPORT:"
echo "==========="
echo "If you need help:"
echo "1. Check Laravel logs: storage/logs/laravel.log"
echo "2. Check browser console for frontend errors"
echo "3. Ensure all services are running in Laragon"
echo ""

echo "=========================================="
echo "Setup guide complete! Follow the steps above."
echo "=========================================="
